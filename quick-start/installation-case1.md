# Kafka installation: Case 1

Simplest installation for testing.
 
* One zookeeper & One broker
* Zero configuration, totally default.
* Zookeeper default client port: 2181
* Broker default listener port: 9092


## Download & extract

```bash
[example-kafka]$ cd quick-start
[quick-start]$ mkdir kafka-lab
[kafka-lab]$ wget https://archive.apache.org/dist/kafka/2.2.0/kafka_2.12-2.2.0.tgz
[kafka-lab]$ tar zxvf kafka_2.12-2.2.0.tgz
[kafka-lab]$ cd kafka_2.12-2.2.0
[kafka_2.12-2.2.0]$ ls -l
```

## Startup server

```bash
[kafka_2.12-2.2.0]$ bin/zookeeper-server-start.sh config/zookeeper.properties
[kafka_2.12-2.2.0]$ bin/kafka-server-start.sh config/server.properties
```

## Produce / Consume messages

* List topics:
```bash
[kafka_2.12-2.2.0]$ bin/kafka-topics.sh --list --bootstrap-server localhost:9092
```

* Send message:
```bash
[kafka_2.12-2.2.0]$ bin/kafka-console-producer.sh --broker-list localhost:9092 --topic topic1
```

* Consume message:
```bash
[kafka_2.12-2.2.0]$ bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic topic1 --from-beginning
```



## Stop servers & reset folder

```bash
# Stop brokers
[kafka_2.12-2.2.0]$ bin/kafka-server-stop.sh

# Stop zookeeper
[kafka_2.12-2.2.0]$ bin/zookeeper-server-stop.sh

# Remove all folders generated by zookeeper & broker
[kafka_2.12-2.2.0]$ rm -rf /tmp/kafka-logs-* /tmp/zookeeper
```